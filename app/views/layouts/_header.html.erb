<%
  if @user.nil? or (logged_in? && current_user.id == @user.id)
    you = "you"
    youre = "you're"
  else
    you = @user.first_name
    youre = "#{you} is"
  end
%>
<h1><a href="/">âœŒ Reading</a></h1>
<h3><span id="lead_in">What <%= youre %> reading. </span>Not what <%= you %> like<%= 's' if @user and @user != current_user %>. Not what <%= you %> find<%= 's' if @user and @user != current_user %> interesting. Just what <%= youre %> reading.</h3>
<div id="welcome">
<% if logged_in? %>
  <% if current_user.username %>
    <% # TODO this is a complete mess. Clean it up %>
    Hey there <%= link_to current_user.display_name, "/#{current_user.username}", :class => 'user' %>.<br>
    <%= link_to "You", "/#{current_user.username}", :class => (request.request_uri.split('/')[1] == current_user.username and params[:action] != 'edit' ? 'active' : '') %>
    - <%= link_to "Everybody", '/everybody', :class => (params[:controller] == 'posts' ? 'active' : '') %>
    - <%= link_to "Settings", "/#{current_user.username}/settings", :class => (params[:controller] == 'users' and params[:action] == 'edit' ? 'active' : '') %>
    - <%= link_to "Sign Out", signout_path %>
  <% end %>
<% else %>
  Sign up or in with <%= link_to "Twitter", "/auth/twitter", :class => 'external' %> or <%= link_to "Facebook", "/auth/facebook", :class => 'external' %>.
<% end %>
</div>
